(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();function f(){const r=document.querySelector(".show-hide"),n=document.querySelector(".comment-wrapper"),a="Hide comments",c="Show comments";n!=null&&(n.style.display="none"),r!=null&&n!=null?r.onclick=function(){r.textContent==="Show comments"?(r.textContent=a,n.style.display="block"):(r.textContent=c,n.style.display="none")}:console.error("Error: Required elements not found in the DOM.")}function h(){const r=document.querySelector(".comment-form"),n=document.querySelector("#name"),a=document.querySelector("#comment"),c=document.querySelector(".comment-container");r!=null&&n!=null&&a!=null&&c!=null?r.onsubmit=function(e){e.preventDefault();const t=document.createElement("li"),o=document.createElement("p"),s=document.createElement("p"),i=d=>{const l=document.createElement("div");return l.textContent=d,l.innerHTML},m=i(n.value),u=i(a.value);o.textContent=m,s.textContent=u,t.appendChild(o),t.appendChild(s),c.appendChild(t),n.value="",a.value=""}:console.error("Error: Required form elements not found in the DOM.")}const g=async r=>{const n="https://en.wikipedia.org/w/api.php",a={action:"query",titles:`File:${r}`,prop:"imageinfo",iiprop:"url",format:"json",origin:"*"},c=`${n}?${new URLSearchParams(a).toString()}`;try{const o=(await(await fetch(c)).json()).query.pages;return Object.values(o)[0].imageinfo[0].url}catch(e){return console.error("Error fetching image URL: ",e),"placeholder-panda.jpg"}};async function y(r){const n=r.split("{{Species table/end}}"),a=[];for(const e of n){const t=e.split("{{Species table/row");for(const o of t){const s=o.match(/\|name=\[\[(.*?)\]\]/),i=o.match(/\|binomial=(.*?)\n/),m=o.match(/\|image=(.*?)\n/),u=o.match(/\|range=([^|(]*)/);if(s!=null&&i!=null&&m!=null){const d=m[1].trim().replace("File:","");try{const l=await g(d),p={name:s[1],binomial:i[1],image:l,range:u!=null?u[1].trim():"Unknown"};a.push(p)}catch(l){console.error("Error fetching bear details: ",l)}}}}const c=document.querySelector(".more_bears");c!=null?a.forEach(e=>{const t=document.createElement("div"),o=document.createElement("h3");o.textContent=`${e.name} (${e.binomial})`;const s=document.createElement("img");s.src=e.image,s.alt=`${e.name}`,s.style.width="200px";const i=document.createElement("p");i.innerHTML=`<strong>Range:</strong> ${e.range}`,t.appendChild(o),t.appendChild(s),t.appendChild(i),c.appendChild(t)}):console.error("Error: .more_bears element not found in the DOM.")}async function w(){const r="https://en.wikipedia.org/w/api.php",n={action:"parse",page:"List_of_ursids",prop:"wikitext",section:"3",format:"json",origin:"*"},a=`${r}?${new URLSearchParams(n).toString()}`;try{const t=(await(await fetch(a)).json()).parse.wikitext["*"];y(t)}catch(c){console.error("Error fetching bear data: ",c)}}document.addEventListener("DOMContentLoaded",()=>{f(),h(),w()});
